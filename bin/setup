#!/usr/bin/env ruby

puts '== Instalando dependÃªncias =='
system 'gem install bundler --conservative'
system('bundle check') || system('bundle install')

require "sqlite3"

puts "\n == Preparando banco de dados =="

begin
  db = SQLite3::Database.open "db/data.db"

  db.execute ('CREATE TABLE study_items( 
                              id INTEGER PRIMARY KEY autoincrement,
                              title varchar(255),
                              category varchar(255),
                              done boolean);')
             
rescue SQLite3::Exception => e
  puts e
ensure
  db.close if db
end
